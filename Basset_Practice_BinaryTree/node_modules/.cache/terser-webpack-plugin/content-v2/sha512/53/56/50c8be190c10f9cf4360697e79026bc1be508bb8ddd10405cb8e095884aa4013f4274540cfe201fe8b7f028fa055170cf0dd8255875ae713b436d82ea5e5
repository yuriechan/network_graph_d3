{"code":"!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=0)}([function(t,e,r){\"use strict\";r.r(e);const n=[{source:0,targets:[1,2],amounts:[1.5,.5]},{source:1,targets:[3,4],amounts:[1.2,.3]},{source:3,targets:[5,6],amounts:[.8,.2]}];let a={name:\"\",children:[],amounts:[]};!function(){let t=function(t){a.name=t.source;for(let e=0;e<t.targets.length;e++){let r={};r.name=t.targets[e],a.children.push(r)}for(let e=0;e<t.amounts.length;e++){let r={};r.amount=t.amounts[e],a.amounts.push(r)}return a}(n[0]);o(t.children[0]),l(t.children[1]),console.log(JSON.stringify(t))}();function o(t){t.children=[],t.amounts=[];for(let e=0;e<n.length;e++)if(n[e].source===t.name){for(let r=0;r<n[e].targets.length;r++){let a={};a.name=n[e].targets[r],t.children.push(a)}for(let r=0;r<n[e].amounts.length;r++){let a={};a.amount=n[e].amounts[r],t.amounts.push(a)}}void 0!==t.children[0]&&(o(t.children[0]),l(t.children[1]))}function l(t){t.children=[],t.amounts=[];for(let e=0;e<n.length;e++)if(n[e].source===t.name){for(let r=0;r<n[e].targets.length;r++){let a={};a.name=n[e].targets[r],t.children.push(a)}for(let r=0;r<n[e].amounts.length;r++){let a={};a.amount=n[e].amounts[r],t.amounts.push(a)}}void 0!==t.children[1]&&(l(t.children[1]),o(t.children[0]))}console.log(`${\"Dude\"}, bro`);const i=30,s=30,c=30,u=30;let d=900-s-u,m=900-i-c;const f=d3.hierarchy({name:0,children:[{name:1,children:[{name:3,children:[{name:5,children:[],amounts:[]},{name:6,children:[],amounts:[]}],amounts:[{amount:.8},{amount:.2}]},{name:4,children:[],amounts:[]}],amounts:[{amount:1.2},{amount:.3}]},{name:2,children:[],amounts:[]}],amounts:[{amount:1.5},{amount:.5}]});f.x0=d/2,f.y0=0;let h=d3.tree().nodeSize([d-s-u,m-i-c]);f.descendants().forEach((t,e)=>{t.id=e,t._children=t.children,4!==t.depth&&(t.children=null)});let p=d3.select(\"body\").append(\"svg\").attr(\"viewBox\",[-f.x0,-i,d,m]);const g=p.append(\"g\").attr(\"class\",\"node\").attr(\"cursor\",\"pointer\").attr(\"pointer-events\",\"all\"),y=p.append(\"g\").attr(\"class\",\"link\").attr(\"fill\",\"none\").attr(\"stroke\",\"#ADADAD\").attr(\"stroke-width\",1.5),x=p.append(\"g\").attr(\"id\",\"linkLabels\").attr(\"class\",\"linkLabels\").append(\"text\").attr(\"class\",\"linkLabel\");d3.select(\"svg\").append(\"defs\").append(\"marker\").attr(\"id\",\"arrowHead\").attr(\"viewBox\",\"-0 -5 10 10\").attr(\"refX\",23).attr(\"refY\",0).attr(\"orient\",\"auto\").attr(\"markerWidth\",8).attr(\"markerHeight\",8).attr(\"xoverflow\",\"visible\").append(\"avg:path\").attr(\"d\",\"M 0, -5 L 10,0 L 0,5\").attr(\"fill\",\"#ADADAD\").style(\"stroke\",\"none\");!function t(e){const r=d3.event?250:0,n=f.descendants().reverse(),a=f.links();h(f),h=d3.tree().nodeSize([(d-s-u)/3,(m-i-c)/3]);const o=p.transition().duration(r),l=g.selectAll(\"g\").data(n,t=>t.id),v=l.enter().append(\"g\").attr(\"transform\",t=>`translate(${e.x}, ${e.y})`).on(\"click\",e=>{e.children=e.children?null:e._children,t(e)});v.append(\"circle\").attr(\"r\",10).attr(\"fill\",t=>t._children?\"#04ab5b\":\"#ADAD\"),v.append(\"text\").text(t=>t.data.name).clone(!0).lower().attr(\"stroke-width\",3),l.merge(v).transition(o).attr(\"transform\",t=>`translate(${t.x}, ${t.y})`).attr(\"fill-opacity\",1).attr(\"fill-opacity\",1),l.exit().transition(o).remove().attr(\"transform\",t=>`translate(${e.x}, ${e.y})`).attr(\"fill-opacity\",0).attr(\"fill-opacity\",0);let b=d3.line().x(t=>t.x).y(t=>t.y);const k=y.selectAll(\"path\").data(a,t=>t.target.id).attr(\"d\",t=>b([t.source,t.target])),A=k.enter().append(\"path\").attr(\"d\",t=>b([t.source,t.target])).attr(\"id\",(t,e)=>`linkPath${e}`).attr(\"marker-end\",\"url(#arrowHead)\");k.merge(A).transition(o).attr(\"d\",t=>b([t.source,t.target])),k.exit().transition(o).remove().attr(\"d\",t=>b([t.source,t.target])),x.selectAll(\"textPath\").data(a,t=>t.target.id).enter().append(\"textPath\").attr(\"x\",t=>t.source.x+.8*(t.target.x-t.source.x)).attr(\"y\",t=>t.source.y+.8*(t.target.y-t.source.y)).text(t=>t.source.data.amounts[1].amount).attr(\"xlink:href\",(t,e)=>`#linkPath${e}`).attr(\"fill\",\"#BAEA\").attr(\"dy\",\"5\").attr(\"startOffset\",\"50%\")}(f)}]);","extractedComments":[]}